extends Node
#do not remove obsolete data for the sake of saves compatibility

var traits = {
	core_trait = {#adds core effects
		code = 'core',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		effects = [],#'e_atkpass'],
	},
	absorb_atk_trait = {
		code = 'absorb_atk_trait',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		effects = ['e_tr_curseatk'],
	},
	fireshield_trait = {
		code = 'fireshield_trait',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		effects = ['e_tr_fireshield'],
	},
	atkpass_trait = {
		code = 'atkpass_trait',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		effects = ['e_atkpass'],
	},

	'master' : {#150% effect from social skills
		code = 'master',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		effects = ['e_tr_master']#,'test_recast'],
	},
	'spouse' : {#130% effect from social skills
		code = 'spouse',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		effects = ['e_tr_spouse']#,'test_recast'],
	},
	'director' : {#150% effect from social skills
		code = 'director',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		effects = ['e_tr_master']#,'test_recast'],
	},
	'slave' : {#slave class trait
		code = 'slave',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		effects = [],#'e_tr_slave']
		bonusstats = {damage_mod_all = -0.1, mod_collect = 0.1, mod_pros = 0.1, mod_farm = 0.1, mod_smith = -0.15, mod_alchemy = -0.15, mod_tailor = -0.15, obDrainReduction = 0.9}
	},
	'heir' : {
		code = 'heir',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		effects = [],#'e_tr_slave']
		bonusstats = {mod_collect = -0.2, mod_farm = -0.2, mod_fish = -0.2, obDrainReduction = 0.5, loyalty_gain_mod = 0.25}
	},
	servant = {#servant class trait
		code = 'servant',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		effects = []
	},
	worker = {
		code = 'worker',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		effects = [],#'e_tr_worker'],
		show_in_parent_stats = true,
		bonusstats = {mod_collect = 0.5}
	},
	foreman = {
		code = 'foreman',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		effects = [],#'e_tr_foreman'],
		show_in_parent_stats = true,
		bonusstats = {mod_collect = 0.33}
	},
	hunter= {#obsolete, not remove
		code = 'hunter',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		effects = [],#'e_tr_hunter'],
		bonusstats = {mod_hunt = 0.5, mod_fish = 0.5}
	},
	hunter_damage = {
		code = 'hunter_damage',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		show_in_parent_stats = true,
		effects = ['e_tr_hunter1'],
		bonusstats = {}
	},
	berserker = {
		code = 'berserker',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		show_in_parent_stats = true,
		effects = ['e_tr_bers1', 'e_tr_bers2'],
		bonusstats = {}
	},
	druid = {
		code = 'druid',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		show_in_parent_stats = true,
		effects = ['e_tr_druid'],
		bonusstats = {}
	},
	sniper = {
		code = 'sniper',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		show_in_parent_stats = true,
		effects = ['e_tr_sniper'],
		bonusstats = {}
	},
	bishop = {
		code = 'bishop',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		show_in_parent_stats = true,
		effects = ['e_tr_bishop'],
		bonusstats = {}
	},
	smith = {
		code = 'smith',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		effects = [],#'e_tr_smith'],
		show_in_parent_stats = true,
		bonusstats = {mod_smith = 1.0, mod_tailor = 1.0}
	},
	engineer = {
		code = 'engineer',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		show_in_parent_stats = true,
		effects = [],#'e_tr_engi'],
		bonusstats = {mod_build = 1.0}
	},
	chef = {
		code = 'chef',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		show_in_parent_stats = true,
		effects = [],#'e_tr_chef'],
		bonusstats = {mod_cook = 1.0}
	},
	attendant = {#item usage in combat takes no turn
		code = 'attendant',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		effects = ['e_tr_attendant'],
	},
	alchemist = {#+100% alchemy production, potions restore 25% more
		code = 'alchemist',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		show_in_parent_stats = true,
		effects = [#'e_tr_alchemist',
			'e_tr_potion'],
		bonusstats = {mod_alchemy = 1.0}
	},
	healer1 = {#+25% heal spells efficiency
		code = 'healer1',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		show_in_parent_stats = true,
		effects = ['e_tr_healer'],
		bonusstats = {}
	},
	healer2 = {#+25% heal spells efficiency
		code = 'healer2',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		show_in_parent_stats = true,
		effects = ['e_tr_healer'], #static effects and triggers are infinite stackable - so the same as in healer
		bonusstats = {}
	},
	witcrit = {#+crit
		code = 'witcrit',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		effects = ['e_tr_witcrit'],
	},
	valkyrie_spear = {
		code = 'valkyrie_spear',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		effects = ['valkyrie_spear_bonus'],
	},
	autohide = {
		code = 'autohide',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		effects = ['e_tr_hide'],
	},
	farmer = {#+50% farm production
		code = 'farmer',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		show_in_parent_stats = true,
		effects = [],#'e_tr_cattle'],
		bonusstats = {mod_farm = 0.5}
	},
	breeder = {#+100% farm production, allows breeding with any race, -30% pregnancy duration
		code = 'breeder',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		effects = ['e_tr_breeder'],
	}, #second and third effects need to be hardcoded
	harlot = {#+50% gold from prostitution
		code = 'harlot',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		show_in_parent_stats = true,
		effects = [],#'e_tr_harlot'],
		bonusstats = {mod_pros = 0.5}
	},
	broken_royalty = {#
		code = 'broken_royalty',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		effects = [],
		show_in_parent_stats = true,
		bonusstats = {mod_pros = 1.5}
	},
	succubus = {#+100% exp from prostitution
		code = 'succubus',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		effects = [],
	}, #hardcoded
	pet = {#+25% gold from prostitution
		code = 'pet',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		effects = [],#'e_tr_pet'],
		show_in_parent_stats = true,
		bonusstats = {mod_pros = 0.25} 
	}, #not used
	sextoy = {#+50% gold from prostitution
		code = 'sextoy',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		effects = [],#'e_tr_harlot'],
		show_in_parent_stats = true,
		bonusstats = {mod_pros = 0.5}
	},
	renown = {
		code = 'renown',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		effects = ['e_tr_renown']
	},
	
	#skill related traits
	
	basic_combat = {#allows learning basic combat skills
		code = 'basic_combat',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		effects = [],
	},
	advanced_combat = {#allows learning advanced (aoe) combat skills
		code = 'advanced_combat',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		effects = [],
	},
	basic_spells = {#allows learning basic combat spells
		code = 'basic_spells',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		effects = [],
	},
	advanced_spells = {#allows learning advanced (aoe) combat spells
		code = 'advanced_spells',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		effects = [],
	},
	#example of catalysts ignoring
	test_cat_ignore = {
		code = 'test_cat_ignore',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		tags = ['ignore_catalysts_for_firebomb'],
		effects = [],
	},
	
	#exploration related traits
	#needs to hardcode most of traits
	medium_armor = {#removes penalty from medium armor
		code = 'medium_armor',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		effects = [],
	},
	heavy_armor = {#removes penalty from heavy armor
		code = 'heavy_armor',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		effects = [],
	},
	lockpicking = { #allows to pick locks on random events
		code = 'lockpicking',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		effects = [],
	},
	trap_detection = { #allows to detect traps on random events
		code = 'trap_detection',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		effects = [],
	},
	trap_analyze = { #allows to detect traps on random events
		code = 'trap_analyze',
		name = '',
		descript = '',
		visible = false,
		icon = null,
		effects = [],
	},
#	magic_tools = {
#		code = 'magic_tools',
#		name = '',
#		descript = '',
#		visible = false,
#		icon = null,
#		effects = [],
#	}, #allows to equip magic rods and staves
#	weapon_mastery = {#allows to equip combat weapons
#		code = 'weapon_mastery',
#		name = '',
#		descript = '',
#		visible = false,
#		icon = null,
#		effects = [],
#	},
#	ranged_weapon_mastery = {#allows to equip ranged combat weapons
#		code = 'ranged_weapon_mastery',
#		name = '',
#		descript = '',
#		visible = false,
#		icon = null,
#		effects = [],
#	},
	undead = {
		code = 'undead',
		name = '',
		descript = '',
		icon = "res://assets/images/iconsskills/trait_undead.png",
		visible = true,
		effects = [],
	},
	
	
	stealth = {
		code = 'stealth',
		name = '',
		descript = '',
		icon = null,
		visible = false,
		effects = ['e_tr_hide'],
	},
	rare_sturdy = {
		code = 'rare_sturdy',
		name = '',
		descript = '',
		icon = null,
		visible = false,
		effects = ['e_rare_sturdy'],
	},
	rare_nimble = {
		code = 'rare_nimble',
		name = '',
		descript = '',
		icon = null,
		visible = false,
		effects = ['e_rare_nimble'],
	},
	rare_strong = {
		code = 'rare_strong',
		name = '',
		descript = '',
		icon = null,
		visible = false,
		effects = ['e_rare_strong'],
	},
	rare_deadly = {
		code = 'rare_deadly',
		name = '',
		descript = '',
		icon = null,
		visible = false,
		effects = ['e_rare_deadly'],
	},
	rare_precise = {
		code = 'rare_precise',
		name = '',
		descript = '',
		icon = null,
		visible = false,
		effects = ['e_rare_precise'],
	},
}
var sex_traits = { #only for interaction tab
	dislike_petting = {
		code = "dislike_petting",
		name = "",
		descript = "",
		starting = false,
		random_generation = true,
		acquire_reqs = [],
		negative = true,
		reqs = [{code = "action_type", value = ["caress","fondletits","kiss"]}],
		effects = [{effect = 'consent', operant = '*', value = 1, trigger = 'consent_check'},{effect = 'horny_bonus', operant = "-", value = 0.33, trigger = 'action_self'}],
	},
	dislike_fingering = {
		code = "dislike_fingering",
		name = "",
		descript = "",
		starting = false,
		random_generation = true,
		acquire_reqs = [],
		negative = true,
		reqs = [{code = "action_type", value = ["fingering","assfingering","vibrator",'analvibrator']}],
		effects = [{effect = 'consent', operant = '*', value = 1, trigger = 'consent_check'},{effect = 'horny_bonus', operant = "-", value = 0.33, trigger = 'action_self'}]
	},
	dislike_tits = {
		code = "dislike_tits",
		name = "",
		descript = "",
		starting = false,
		random_generation = true,
		acquire_reqs = [],
		negative = true,
		reqs = [{code = "action_type", value = ["titjob","fondletits","sucknipples",'nipplefuck']}],
		effects = [{effect = 'consent', operant = '*', value = 1, trigger = 'consent_check'},{effect = 'horny_bonus', operant = "-", value = 0.33, trigger = 'action_self'}]
	},
	dislike_oral = {
		code = "dislike_oral",
		name = "",
		descript = "",
		starting = false,
		random_generation = true,
		acquire_reqs = [],
		negative = true,
		reqs = [{code = "action_type", value = ["blowjob","cunnilingus","rimjob",'deepthroat']}],
		effects = [{effect = 'consent', operant = '*', value = 1, trigger = 'consent_check'},{effect = 'horny_bonus', operant = "-", value = 0.33, trigger = 'action_self'}]
	},
	dislike_missionary = {
		code = "dislike_missionary",
		name = "",
		descript = "",
		starting = false,
		random_generation = true,
		acquire_reqs = [],
		negative = true,
		reqs = [{code = "action_type", value = ["missionary","missionaryanal","kiss",'fondletits']}],
		effects = [{effect = 'consent', operant = '*', value = 1, trigger = 'consent_check'},{effect = 'horny_bonus', operant = "-", value = 0.33, trigger = 'action_self'}]
	},
	dislike_doggy = {
		code = "dislike_doggy",
		name = "",
		descript = "",
		starting = false,
		random_generation = true,
		acquire_reqs = [],
		negative = true,
		reqs = [{code = "action_type", value = ["doggy","doggyanal","doubledildo",'doubledildoass','grovel']}],
		effects = [{effect = 'consent', operant = '*', value = 1, trigger = 'consent_check'},{effect = 'horny_bonus', operant = "-", value = 0.33, trigger = 'action_self'}]
	},
	dislike_sitting = {
		code = "dislike_sitting",
		name = "",
		descript = "",
		starting = false,
		random_generation = true,
		acquire_reqs = [],
		negative = true,
		reqs = [{code = "action_type", value = ["lotus",'lotusanal','revlotus','revlotusanal','facesit','afacesit','tribadism','frottage']}],
		effects = [{effect = 'consent', operant = '*', value = 1, trigger = 'consent_check'},{effect = 'horny_bonus', operant = "-", value = 0.33, trigger = 'action_self'}]
	},
	dislike_riding = {
		code = "dislike_riding",
		name = "",
		descript = "",
		starting = false,
		random_generation = true,
		acquire_reqs = [],
		negative = true,
		reqs = [{code = "action_type", value = ["ontop",'ontopanal']}],
		effects = [{effect = 'consent', operant = '*', value = 1, trigger = 'consent_check'},{effect = 'horny_bonus', operant = "-", value = 0.33, trigger = 'action_self'}]
	},
	dislike_group = {
		code = "dislike_group",
		name = "",
		descript = "",
		starting = false,
		random_generation = true,
		acquire_reqs = [],
		negative = true,
		reqs = [{code = "action_type", value = ["doublepen",'spitroast','spitroastass','insertinturns','insertinturnsass']}],
		effects = [{effect = 'consent', operant = '*', value = 1, trigger = 'consent_check'},{effect = 'horny_bonus', operant = "-", value = 0.33, trigger = 'action_self'}]
	},
	dislike_bdsm = {
		code = "dislike_bdsm",
		name = "",
		descript = "",
		starting = false,
		random_generation = true,
		acquire_reqs = [],
		negative = true,
		reqs = [{code = "action_type", value = ["spanking",'whipping','nippleclamp','clitclamp','ringgag','blindfold','nosehook','facesit','afacesit']}],
		effects = [{effect = 'consent', operant = '*', value = 1, trigger = 'consent_check'},{effect = 'horny_bonus', operant = "-", value = 0.33, trigger = 'action_self'}]
	},
	dislike_tail = {
		code = "dislike_tail",
		name = "",
		descript = "",
		starting = false,
		random_generation = true,
		acquire_reqs = [],
		negative = true,
		reqs = [{code = "action_type", value = ["tailjob",'earjob','inserttailv','inserttaila']}],
		effects = [{effect = 'consent', operant = '*', value = 1, trigger = 'consent_check'},{effect = 'horny_bonus', operant = "-", value = 0.33, trigger = 'action_self'}]
	},


	bisexual = {
		code = "bisexual",
		name = "",
		descript = "",
		starting = true,
		random_generation = true,
		negative = false,
		acquire_reqs = [{code = "same_sex_orgasms", operant = "gte", value = 2}],
		reqs = [],
		effects = [],
	},
	open_minded = {
		code = "open_minded",
		name = "",
		descript = "",
		starting = true,
		random_generation = true,
		negative = false,
		acquire_reqs = [{code = "actor_check", value = [{code = "stat", type = "diff_body_orgasm", operant = "gte", value = 2}]}],
		reqs = [],
		effects = [],
	},
	deviant = {
		code = "deviant",
		name = "",
		descript = "",
		starting = true,
		random_generation = true,
		negative = false,
		acquire_reqs = [{code = "actor_check", value = [{code = "stat", type = "deviant_orgasms", operant = "gte", value = 2}]}],
		reqs = [],
		effects = [],
	},
	group = {
		code = "group",
		name = "",
		descript = "",
		starting = true,
		random_generation = true,
		negative = false,
		acquire_reqs = [{code = "actor_check", value = [{code = "stat", type = "orgasm_partners", operant = "gte", value = 2}]}],
		reqs = [],
		effects = [],
	},
	shameless = {
		code = "shameless",
		name = "",
		descript = "",
		starting = true,
		random_generation = true,
		negative = false,
		acquire_reqs = [{code = "actor_check", value = [{code = "stat", type = "orgasm_with_watcher", operant = "gte", value = 3}]}],
		reqs = [],
		effects = [],
	},
	anal = {
		code = "anal",
		name = "",
		descript = "",
		starting = true,
		random_generation = true,
		negative = false,
		acquire_reqs = [{code = "actor_check", value = [{code = "stat", type = "orgasm_tags", flag = "only", value = "anal"}]}],
		reqs = [],
		effects = [],
	},
	breasts = {
		code = "breasts",
		name = "",
		descript = "",
		starting = true,
		random_generation = true,
		negative = false,
		acquire_reqs = [{code = "actor_check", value = [{code = "stat", type = "orgasm_tags", flag = "only", value = "tits"}]}],
		reqs = [{code = "action_tag", value = "tits"}],
		effects = [{effect = 'sens_bonus', operant = "+", value = 0.5, trigger = 'action_self'},{effect = 'horny_bonus', operant = "+", value = 0.5, trigger = 'action_self'}],
	},
	masochist = {
		code = "masochist",
		name = "",
		descript = "",
		starting = true,
		random_generation = true,
		negative = false,
		acquire_reqs = [{code = "actor_check", value = [{code = "stat", type = "mazo_actions", operant = "gte", value = 10}]}],
		reqs = [{code = "action_tag", value = "punish"}],
		effects = [{effect = 'sens_bonus', operant = "+", value = 0.5, trigger = 'action_self'}],
	},
	sadist = {
		code = "sadist",
		name = "",
		descript = "",
		starting = true,
		random_generation = true,
		negative = false,
		acquire_reqs = [{code = "actor_check", value = [{code = "stat", type = "punish_actions", operant = "gte", value = 10}]}],
		reqs = [{code = "action_partner_tag", value = "punish"}],
		effects = [{effect = 'sens_bonus', operant = "+", value = 0.5, trigger = 'action_self'}],
	},
	dominant = {
		code = "dominant",
		name = "",
		descript = "",
		acquire_reqs = [{code = "actor_check", value = [{code = "stat", type = "dominant", operant = "gte", value = 3}]}],
		starting = true,
		random_generation = true,
		negative = false,
		reqs = [{code = "action_tag", value = "dom"}],
		effects = [{effect = 'sens_bonus', operant = "+", value = 0.2, trigger = 'action_self'}],
	},
	submissive = {
		code = "submissive",
		name = "",
		descript = "",
		acquire_reqs = [{code = "actor_check", value = [{code = "stat", type = "orgasm_effects", flag = "any", value = ["subdued", "tied"]}]}],
		starting = true,
		random_generation = true,
		negative = false,
		reqs = [{code = "action_tag", value = "sub"}],
		effects = [{effect = 'sens_bonus', operant = "+", value = 0.2, trigger = 'action_self'}],
	},
	nymphomania = {
		code = "nymphomania",
		name = "",
		descript = "",
		acquire_reqs = [{code = "actor_check", value = [{code = "stat", type = "orgasms", operant = "gte", value = 5}]}],
		starting = true,
		random_generation = true,
		negative = false,
		reqs = [],
		effects = [{effect = 'maximize_hornyness', trigger = 'start'}],
	},
	hypersensitive = {
		code = "hypersensitive",
		name = "",
		descript = "",
		acquire_reqs = [{code = "actor_check", value = [{code = "stat", type = "aphrodisiac_orgasms", operant = "gte", value = 2}]}],
		starting = true,
		random_generation = true,
		negative = false,
		reqs = [],
		effects = [{effect = 'can_orgasm_regardless', trigger = 'orgasm'}],
	},
	lewdness_aura = {
		code = "lewdness_aura",
		name = "",
		descript = "",
		starting = true,
		random_generation = true,
		negative = false,
		acquire_reqs = [],
		reqs = [],
		effects = [{effect = 'lewdness_aura', trigger = 'end_turn'}],
	},
	bottle_fairy = {
		code = "bottle_fairy",
		name = "",
		descript = "",
		acquire_reqs = [{code = "actor_check", value = [{code = "stat", type = "drunk_orgasm", operant = "gte", value = 2}]}],
		starting = true,
		random_generation = true,
		negative = false,
		reqs = [{code = 'effect_exists', value = 'tipsy', orflag = true},{code = 'effect_exists', value = 'drunk', orflag = true}],
		effects = [{effect = 'sens_bonus', operant = '+', value = 0.3, trigger = 'action_self'}],
	},
	irresistible = {
		code = "irresistible",
		name = "",
		descript = "",
		starting = true,
		random_generation = true,
		negative = false,
		acquire_reqs = [{code = "actor_check", value = [{code = "stat", type = "new_consented_partners", operant = "gte", value = 3}]}],
		reqs = [],
		effects = [{effect = 'consent', operant = "+", value = 10, trigger = 'consent_check_partner'}],
	},
	bedroom_prodidgy = {
		code = "bedroom_prodidgy",
		name = "",
		descript = "",
		starting = true,
		random_generation = true,
		negative = false,
		acquire_reqs = [{code = "actor_check", value = [{code = "stat", type = "bedroom_prodigy", operant = "gte", value = 3}]}],
		reqs = [],
		effects = [{effect = 'skill_exp', operant = '+', value = 0.5, trigger = 'skill_exp_gain'}],
	},
	pushover = {
		code = "pushover",
		name = "",
		descript = "",
		starting = true,
		random_generation = true,
		negative = false,
		acquire_reqs = [{code = "actor_check", value = [{code = "stat", type = "unconsented_orgasm", operant = "gte", value = 2}]}],
		reqs = [],
		effects = [{effect = 'consent_gain', operant = '*', value = 1.5, trigger = 'encounter_end'}],
	},
	teacher = {
		code = "teacher",
		name = "",
		descript = "",
		starting = true,
		random_generation = true,
		negative = false,
		acquire_reqs = [{code = "actor_check", value = [{code = "stat", type = "single_partner_consents", operant = "gte", value = 6}]}],
		reqs = [],
		effects = [{effect = 'skill_exp', operant = '+', value = 0.5, trigger = 'skill_exp_gain_partner'}],
	},
	desired = {
		code = "desired",
		name = "",
		descript = "",
		starting = true,
		random_generation = true,
		negative = false,
		acquire_reqs = [{code = "actor_check", value = [{code = "stat", type = "satisfied_partners", operant = "gte", value = 2}]}],
		reqs = [],
		effects = [{effect = 'sens_bonus', operant = '+', value = 0.25, trigger = 'action_partner'}],
	},
	curious = {
		code = "curious",
		name = "",
		descript = "",
		starting = true,
		random_generation = true,
		negative = false,
		acquire_reqs = [{code = "actor_check", value = [{code = "stat", type = "seen_orgasms", operant = "gte", value = 2}]}],
		reqs = [],
		effects = [{effect = 'exp_bonus', operant = '+', value = 0.25, trigger = 'encounter_end'}],
	},
	life_power = {
		code = "life_power",
		name = "",
		descript = "",
		starting = true,
		random_generation = true,
		negative = false,
		acquire_reqs = [{code = "actor_check", value = [{code = "stat", type = "max_ongoing_actions", operant = "gte", value = 5}]}],
		reqs = [],
		effects = [{effect = 'life_power', trigger = 'encounter_end'}],
	},
#	dislike_petting = {
#		code = "dislike_petting",
#		name = "",
#		descript = "",
#		starting = false,
#		random_generation = true,
#		acquire_reqs = [],
#		negative = true,
#		reqs = [{code = "action_type", value = ["caress","fondletits","kiss"]}],
#		effects = [{effect = 'consent', operant = '*', value = 1, trigger = 'consent_check'},{effect = 'horny_bonus', operant = "-", value = 0.33, trigger = 'action_self'}],
#	},
#	dislike_fingering = {
#		code = "dislike_fingering",
#		name = "",
#		descript = "",
#		starting = false,
#		random_generation = true,
#		acquire_reqs = [],
#		negative = true,
#		reqs = [{code = "action_type", value = ["fingering","assfingering","vibrator",'analvibrator']}],
#		effects = [{effect = 'consent', operant = '*', value = 1, trigger = 'consent_check'},{effect = 'horny_bonus', operant = "-", value = 0.33, trigger = 'action_self'}]
#	},
#	dislike_tits = {
#		code = "dislike_fingering",
#		name = "",
#		descript = "",
#		starting = false,
#		random_generation = true,
#		acquire_reqs = [],
#		negative = true,
#		reqs = [{code = "action_type", value = ["tijob","fondletits","sucknipple",'nipplefuck']}],
#		effects = [{effect = 'consent', operant = '*', value = 1, trigger = 'consent_check'},{effect = 'horny_bonus', operant = "-", value = 0.33, trigger = 'action_self'}]
#	},
#	dislike_oral = {
#		code = "dislike_oral",
#		name = "",
#		descript = "",
#		starting = false,
#		random_generation = true,
#		acquire_reqs = [],
#		negative = true,
#		reqs = [{code = "action_type", value = ["blowjob","cunnilingus","rimjob",'deepthroat']}],
#		effects = [{effect = 'consent', operant = '*', value = 1, trigger = 'consent_check'},{effect = 'horny_bonus', operant = "-", value = 0.33, trigger = 'action_self'}]
#	},
#	dislike_missionary = {
#		code = "dislike_missionary",
#		name = "",
#		descript = "",
#		starting = false,
#		random_generation = true,
#		acquire_reqs = [],
#		negative = true,
#		reqs = [{code = "action_type", value = ["missionary","missionaryanal","kiss",'fondletits']}],
#		effects = [{effect = 'consent', operant = '*', value = 1, trigger = 'consent_check'},{effect = 'horny_bonus', operant = "-", value = 0.33, trigger = 'action_self'}]
#	},
#	dislike_doggy = {
#		code = "dislike_doggy",
#		name = "",
#		descript = "",
#		starting = false,
#		random_generation = true,
#		acquire_reqs = [],
#		negative = true,
#		reqs = [{code = "action_type", value = ["doggy","doggyanal","doubledildo",'doubledildoass','grovel']}],
#		effects = [{effect = 'consent', operant = '*', value = 1, trigger = 'consent_check'},{effect = 'horny_bonus', operant = "-", value = 0.33, trigger = 'action_self'}]
#	},
#	dislike_sitting = {
#		code = "dislike_sitting",
#		name = "",
#		descript = "",
#		starting = false,
#		random_generation = true,
#		acquire_reqs = [],
#		negative = true,
#		reqs = [{code = "action_type", value = ["lotus",'lotusanal','revlotus','revlotusanal','facesit','afacesit','tribadism','frottage']}],
#		effects = [{effect = 'consent', operant = '*', value = 1, trigger = 'consent_check'},{effect = 'horny_bonus', operant = "-", value = 0.33, trigger = 'action_self'}]
#	},
#	dislike_riding = {
#		code = "dislike_riding",
#		name = "",
#		descript = "",
#		starting = false,
#		random_generation = true,
#		acquire_reqs = [],
#		negative = true,
#		reqs = [{code = "action_type", value = ["ontop",'ontopanal']}],
#		effects = [{effect = 'consent', operant = '*', value = 1, trigger = 'consent_check'},{effect = 'horny_bonus', operant = "-", value = 0.33, trigger = 'action_self'}]
#	},
#	dislike_group = {
#		code = "dislike_group",
#		name = "",
#		descript = "",
#		starting = false,
#		random_generation = true,
#		acquire_reqs = [],
#		negative = true,
#		reqs = [{code = "action_type", value = ["doublepen",'spitroast','spitroastass','insertinturns','insertinturnsass']}],
#		effects = [{effect = 'consent', operant = '*', value = 1, trigger = 'consent_check'},{effect = 'horny_bonus', operant = "-", value = 0.33, trigger = 'action_self'}]
#	},
#	dislike_bdsm = {
#		code = "dislike_bdsm",
#		name = "",
#		descript = "",
#		starting = false,
#		random_generation = true,
#		acquire_reqs = [],
#		negative = true,
#		reqs = [{code = "action_type", value = ["spanking",'whipping','nippleclap','clitclap','ringgag','blindfold','nosehook','facesit','afacesit']}],
#		effects = [{effect = 'consent', operant = '*', value = 1, trigger = 'consent_check'},{effect = 'horny_bonus', operant = "-", value = 0.33, trigger = 'action_self'}]
#	},
#	dislike_tail = {
#		code = "dislike_tail",
#		name = "",
#		descript = "",
#		starting = false,
#		random_generation = true,
#		acquire_reqs = [],
#		negative = true,
#		reqs = [{code = "action_type", value = ["tailjob",'earjob','inserttailv','inserttaila']}],
#		effects = [{effect = 'consent', operant = '*', value = 1, trigger = 'consent_check'},{effect = 'horny_bonus', operant = "-", value = 0.33, trigger = 'action_self'}]
#	},
#
#
#	bisexual = {
#		code = "bisexual",
#		name = "",
#		descript = "",
#		starting = true,
#		random_generation = true,
#		negative = false,
#		acquire_reqs = [],
#		reqs = [],
#		effects = [],
#	},
#	open_minded = {
#		code = "open_minded",
#		name = "",
#		descript = "",
#		starting = true,
#		random_generation = true,
#		negative = false,
#		acquire_reqs = [],
#		reqs = [],
#		effects = [],
#	},
#	deviant = {
#		code = "deviant",
#		name = "",
#		descript = "",
#		starting = true,
#		random_generation = true,
#		negative = false,
#		acquire_reqs = [],
#		reqs = [],
#		effects = [],
#	},
#	group = {
#		code = "group",
#		name = "",
#		descript = "",
#		starting = true,
#		random_generation = true,
#		negative = false,
#		acquire_reqs = [],
#		reqs = [],
#		effects = [],
#	},
#	shameless = {
#		code = "shameless",
#		name = "",
#		descript = "",
#		starting = true,
#		random_generation = true,
#		negative = false,
#		acquire_reqs = [],
#		reqs = [],
#		effects = [],
#	},
#	anal = {
#		code = "anal",
#		name = "",
#		descript = "",
#		starting = true,
#		random_generation = true,
#		negative = false,
#		acquire_reqs = [],
#		reqs = [],
#		effects = [],
#	},
#	breasts = {
#		code = "breasts",
#		name = "",
#		descript = "",
#		starting = true,
#		random_generation = true,
#		negative = false,
#		acquire_reqs = [],
#		reqs = [{code = "action_tag", value = "tits"}],
#		effects = [{effect = 'sens_bonus', operant = "+", value = 0.5, trigger = 'action_self'},{effect = 'horny_bonus', operant = "+", value = 0.5, trigger = 'action_self'}],
#	},
#	masochist = {
#		code = "masochist",
#		name = "",
#		descript = "",
#		starting = true,
#		random_generation = true,
#		negative = false,
#		acquire_reqs = [],
#		reqs = [{code = "action_tag", value = "punish"}],
#		effects = [{effect = 'sens_bonus', operant = "+", value = 0.5, trigger = 'action_self'}],
#	},
#	sadist = {
#		code = "sadist",
#		name = "",
#		descript = "",
#		starting = true,
#		random_generation = true,
#		negative = false,
#		acquire_reqs = [],
#		reqs = [{code = "action_partner_tag", value = "punish"}],
#		effects = [{effect = 'sens_bonus', operant = "+", value = 0.5, trigger = 'action_self'}],
#	},
#	dominant = {
#		code = "dominant",
#		name = "",
#		descript = "",
#		acquire_reqs = [],
#		starting = true,
#		random_generation = true,
#		negative = false,
#		reqs = [{code = "action_tag", value = "dom"}],
#		effects = [{effect = 'sens_bonus', operant = "+", value = 0.2, trigger = 'action_self'}],
#	},
#	submissive = {
#		code = "submissive",
#		name = "",
#		descript = "",
#		acquire_reqs = [],
#		starting = true,
#		random_generation = true,
#		negative = false,
#		reqs = [{code = "action_tag", value = "sub"}],
#		effects = [{effect = 'sens_bonus', operant = "+", value = 0.2, trigger = 'action_self'}],
#	},
#	nymphomania = {
#		code = "nymphomania",
#		name = "",
#		descript = "",
#		acquire_reqs = [],
#		starting = true,
#		random_generation = true,
#		negative = false,
#		reqs = [],
#		effects = [{effect = 'maximize_hornyness', trigger = 'start'}],
#	},
#	hypersensitive = {
#		code = "hypersensitive",
#		name = "",
#		descript = "",
#		acquire_reqs = [],
#		starting = true,
#		random_generation = true,
#		negative = false,
#		reqs = [],
#		effects = [{effect = 'can_orgasm_regardless', trigger = 'orgasm'}],
#	},
#	lewdness_aura = {
#		code = "lewdness_aura",
#		name = "",
#		descript = "",
#		starting = true,
#		random_generation = true,
#		negative = false,
#		acquire_reqs = [],
#		reqs = [],
#		effects = [{effect = 'lewdness_aura', trigger = 'end_turn'}],
#	},
#	bottle_fairy = {
#		code = "bottle_fairy",
#		name = "",
#		descript = "",
#		acquire_reqs = [],
#		starting = true,
#		random_generation = true,
#		negative = false,
#		reqs = [{code = 'effect_exists', value = 'tipsy', orflag = true},{code = 'effect_exists', value = 'drunk', orflag = true}],
#		effects = [{effect = 'sens_bonus', operant = '+', value = 0.3, trigger = 'action_self'}],
#	},
#	irresistible = {
#		code = "irresistible",
#		name = "",
#		descript = "",
#		starting = true,
#		random_generation = true,
#		negative = false,
#		acquire_reqs = [],
#		reqs = [],
#		effects = [{effect = 'consent', operant = "+", value = 10, trigger = 'consent_check_partner'}],
#	},
#	bedroom_prodidgy = {
#		code = "bedroom_prodidgy",
#		name = "",
#		descript = "",
#		starting = true,
#		random_generation = true,
#		negative = false,
#		acquire_reqs = [],
#		reqs = [],
#		effects = [{effect = 'skill_exp', operant = '+', value = 0.5, trigger = 'skill_exp_gain'}],
#	},
#	pushover = {
#		code = "pushover",
#		name = "",
#		descript = "",
#		starting = true,
#		random_generation = true,
#		negative = false,
#		acquire_reqs = [],
#		reqs = [],
#		effects = [{effect = 'consent_gain', operant = '*', value = 1.5, trigger = 'encounter_end'}],
#	},
#	teacher = {
#		code = "teacher",
#		name = "",
#		descript = "",
#		starting = true,
#		random_generation = true,
#		negative = false,
#		acquire_reqs = [],
#		reqs = [],
#		effects = [{effect = 'skill_exp', operant = '+', value = 0.5, trigger = 'skill_exp_gain_partner'}],
#	},
#	desired = {
#		code = "desired",
#		name = "",
#		descript = "",
#		starting = true,
#		random_generation = true,
#		negative = false,
#		acquire_reqs = [],
#		reqs = [],
#		effects = [{effect = 'sens_bonus', operant = '+', value = 0.25, trigger = 'action_partner'}],
#	},
#	curious = {
#		code = "curious",
#		name = "",
#		descript = "",
#		starting = true,
#		random_generation = true,
#		negative = false,
#		acquire_reqs = [],
#		reqs = [],
#		effects = [{effect = 'exp_bonus', operant = '+', value = 0.25, trigger = 'encounter_end'}],
#	},
#	life_power = {
#		code = "life_power",
#		name = "",
#		descript = "",
#		starting = true,
#		random_generation = true,
#		negative = false,
#		acquire_reqs = [],
#		reqs = [],
#		effects = [{effect = 'life_power', trigger = 'encounter_end'}],
#	},
#
#	likes_shortstacks = {
#		code = "likes_shortstacks",
#		name = "",
#		descript = "",
#		starting = true,
#		acquire_reqs = [{code = 'custom', value = 'height'}],
#		trigger = 'self',
#		reqs = [{code = 'partner_check', value = [{code = 'is_shortstack', value = true}]}],
#		effects = [{effect = 'sens_bonus', operant = "+", value = 0.25},{effect = 'horny_bonus', operant = "+", value = 0.25}],
#	},
#	likes_beasts = {
#		code = "likes_beasts",
#		name = "",
#		descript = "",
#		starting = true,
#		acquire_reqs = [{code = 'race_is_beast', value = false}],
#		trigger = 'self',
#		reqs = [{code = 'partner_check', value = [{code = 'race_is_beast', value = true}]}],
#		effects = [{effect = 'sens_bonus', operant = "+", value = 0.25},{effect = 'horny_bonus', operant = "+", value = 0.25}],
#	},
}
func _ready():
	for tr in traits.values():
		if !tr.has('bonusstats'): tr.bonusstats = {}


var tattoodata = {
	ink_branding = {
		name = 'Brand',
		can_repeat = false,
		icon = load("res://assets/images/iconsitems/TattooBrand.png"),
		conditions = [{code = 'is_master', check = false}],
		item = 'ink_branding',
		slots = ['neck','crotch','ass'],
		effects = {
			['neck','crotch','ass']: ['e_brand']
		},
		descripts = {
			['neck','crotch','ass']: "TATTOOBRANDDESCRIPT",
		},
	},
	ink_makeup = {
		name = 'Makeup',
		can_repeat = true,
		icon = load("res://assets/images/iconsitems/TattooMakeup.png"),
		item = 'ink_makeup',
		slots = ['face'],
		effects = {
			['face']: ['e_mkup']
		},
		descripts = {
			['face']: "TATTOOMAKEUPDESCRIPT",
		},
	},
	ink_lust = {
		name = 'Lust',
		can_repeat = true,
		icon = load("res://assets/images/iconsitems/TattooLust.png"),
		item = 'ink_lust',
		slots = ['chest','ass','crotch'],
		effects = {
			['chest','ass']: ['e_tlust1'],
			['crotch']: ['e_tlust2']
		},
		descripts = {
			['chest','ass']: "TATTOOLUSTDESCRIPT",
			['crotch']: "TATTOOLUST2DESCRIPT",
		},
	},
	# ink_hp_r = {
	# 	name = 'HP regen',
	# 	can_repeat = true,
	# 	item = 'ink1',
	# 	slots = ['arms','legs','waist'],
	# 	effects = {
	# 		['arms', 'legs', 'waist']: ['e_thpr']
	# 	}
	# },
	ink_hp = {
		name = 'HP regen',
		can_repeat = true,
		icon = load("res://assets/images/iconsitems/TattooHp.png"),
		item = 'ink_hp',
		slots = ['arms','legs','waist'],
		effects = {
			['arms', 'legs', 'waist']: ['e_thpr']
		},
		descripts = {
			['arms', 'legs', 'waist']: "TATTOOHPDESCRIPT",
		},
	},
	# ink_mp_r = {
	# 	name = 'MP regen',
	# 	can_repeat = true,
	# 	slots = ['arms','legs','waist'],
	# 	item = 'ink1',
	# 	effects = {
	# 		['arms', 'legs', 'waist']: ['e_tmpr']
	# 	}
	# },
	ink_mp = {
		name = 'MP regen',
		can_repeat = true,
		icon = load("res://assets/images/iconsitems/TattooEnergy.png"),
		slots = ['arms','legs','waist'],
		item = 'ink_mp',
		effects = {
			['arms', 'legs', 'waist']: ['e_tmpr']
		},
		descripts = {
			['arms', 'legs', 'waist']: "TATTOOMPDESCRIPT",
		},
	},
	ink_tribal = {
		name = 'Tribal',
		can_repeat = true,
		icon = load("res://assets/images/iconsitems/TattooTribal.png"),
		item = 'ink_tribal',
		slots = ['arms','legs','chest','face'],
		effects = {
			['arms', 'legs', 'chest']: ['e_trib1'],
			['face']: ['e_trib2']
		},
		descripts = {
			['arms', 'legs', 'chest']: "TATTOOTRIBALDESCRIPT",
			['face']: "TATTOOTRIBAL2DESCRIPT",
		},
	},
}

func get_tat_list_for_slot(slot):
	var res = []
	for t in tattoodata:
		for slots in tattoodata[t].effects:
			if res.has(t): continue
			if slots.has(slot): res.push_back(t)
	return res

func get_slot_list_for_tat(code):
	var res = []
	for slots in tattoodata[code].effects:
		for s in slots:
			if !res.has(s): res.push_back(s)
	return res


var b_template = {
		icon = "",
		description = "",
		limit = 1,
		mansion_only = true,
		t_name = 'trait_%s'
	}

func make_buff_for_trait(tr_id):
	var trdata = traits[tr_id]
	if trdata.has('visible') and !trdata.visible: return null
	if !trdata.has('icon'): return null
	if trdata.icon == null: return null
	var template = b_template.duplicate()
	template.icon = trdata.icon.get_path()
	template.description = trdata.descript
	template.t_name = template.t_name % trdata.code
	template.name = template.t_name
	var res = Buff.new(null)
	res.createfromtemplate(template)
	return res
